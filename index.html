<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Eric Hughes" />


<title>Supermarket presence by median household income and vehicle access in Buffalo, NY</title>

<script src="site_libs/header-attrs-2.18/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
      .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-bs-toggle="collapse" data-target="#navbar" data-bs-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Spatial Data Science Final Project</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Supermarket presence by median household
income and vehicle access in Buffalo, NY</h1>
<h4 class="author">Eric Hughes</h4>

</div>


<div id="introduction" class="section level1">
<h1>Introduction</h1>
<p>Access to healthy food is not equal across all regions. Many factors
influence food access such as vehicle access, proximity of quality
grocery retailers, and income. The most basic measure of food access is
proximity to supermarkets. Supermarkets have the resources to carry a
wide range of produce and have affordable prices which makes their
presence a good measure of local food security. The two main barriers to
food are income level and access to a personal vehicle.</p>
<p>This project aims to look at Buffalo residentâ€™s proximity to
supermarkets based off their median household income and access to a
vehicle. To do this, two analysis will be run. For the first, Buffalo
residents will be grouped into four different income brackets based on
their median household income per census tract. For the second, Buffalo
residents will be grouped into brackets based on proportions of
households within each census tract without access to a personal
vehicle. Then, the distance to the nearest supermarket for each census
tract centroid will be calculated and. Each census tract will be joined
to the median household income and vehicle access datasets and averages
will be calculated for each bracket. Results will be analyzed and
discussed in the Results and Conclusions sections.</p>
</div>
<div id="materials-and-methods" class="section level1">
<h1>Materials and methods</h1>
<div id="data-sources" class="section level2">
<h2>Data sources</h2>
<ul>
<li><p>US Census Bureau will provide census tract data of median
household income, as well as demographic data, for Buffalo</p></li>
<li><p>Open Data Buffalo for Neighborhood Boundary Shapefile</p></li>
<li><p>ESRI Business Analyst will provide all supermarket data</p></li>
</ul>
</div>
<div id="packages" class="section level2">
<h2>Packages</h2>
<pre class="r"><code>library(sf)
library(tidyverse)
library(ggplot2)
library(sp)
library(ggmap)
library(dodgr)
library(osmdata, quietly=T)
library(classInt)
library(geodist)
library(knitr)</code></pre>
</div>
<div id="data-cleaning" class="section level2">
<h2>Data cleaning</h2>
<pre class="r"><code>#Create Variable with all census tracts within Buffalo boundary that contains median household income data

income_csv &lt;- read.csv(file = &quot;median_income_data_2020.csv&quot;,
                              skip = 2, header = F)
income_data &lt;- income_csv[c(1,2,323)]
colnames(income_data) &lt;- c(&quot;geoid&quot;, &quot;census.tract&quot;, &quot;median.household.income&quot;)
income_data$geoid = as.character(income_data$geoid)

vehicle_access_csv &lt;- read.csv(file = &quot;vehicle_access.csv&quot;)
vehicle_access_data &lt;- vehicle_access_csv[c(1,2,6)]
colnames(vehicle_access_data) &lt;- c(&quot;geoid&quot;,&quot;census.tract&quot;,&quot;prop.wo.va&quot;)

#Create Buffalo border

buffalo_border &lt;- st_read(&quot;buffalo_boundary&quot;) %&gt;%
  st_transform(4326)</code></pre>
<pre><code>## Reading layer `BuffaloLine&#39; from data source 
##   `/__w/final_project-Hughes-Eric/final_project-Hughes-Eric/buffalo_boundary&#39; 
##   using driver `ESRI Shapefile&#39;
## Simple feature collection with 1 feature and 3 fields
## Geometry type: MULTILINESTRING
## Dimension:     XY
## Bounding box:  xmin: -78.91252 ymin: 42.8261 xmax: -78.79514 ymax: 42.96641
## Geodetic CRS:  WGS 84</code></pre>
<pre class="r"><code>buffalo_sp &lt;- as_Spatial(st_transform(buffalo_border, 4326))
buffalo_bbox &lt;- buffalo_sp@bbox

basemap &lt;- get_stamenmap(
  bbox = buffalo_bbox,
  zoom = 13,
  maptype = &quot;toner-lite&quot;)

#Import census tracts and join with median income and vehicle access data

census_tracts &lt;- st_read(&quot;buffalo_census_tracts&quot;) </code></pre>
<pre><code>## Reading layer `buffalo_census_tracts&#39; from data source 
##   `/__w/final_project-Hughes-Eric/final_project-Hughes-Eric/buffalo_census_tracts&#39; 
##   using driver `ESRI Shapefile&#39;
## Simple feature collection with 91 features and 14 fields
## Geometry type: MULTIPOLYGON
## Dimension:     XY
## Bounding box:  xmin: -78.91245 ymin: 42.82611 xmax: -78.79528 ymax: 42.9664
## Geodetic CRS:  WGS 84</code></pre>
<pre class="r"><code>income_shape &lt;- census_tracts %&gt;% left_join(income_data, by = c(&quot;GEOID&quot; = &quot;geoid&quot;))
income_shape$INTPTLAT = as.numeric(income_shape$INTPTLAT)
income_shape$INTPTLON = as.numeric(income_shape$INTPTLON)
income_shape$median.household.income = as.integer(income_shape$median.household.income)

vehicle_shape &lt;- census_tracts %&gt;% left_join(vehicle_access_data, by = c(&quot;GEOID&quot; = &quot;geoid&quot;))
vehicle_shape$INTPTLAT = as.numeric(vehicle_shape$INTPTLAT)
vehicle_shape$INTPTLON = as.numeric(vehicle_shape$INTPTLON)
vehicle_shape$prop.wo.va = as.double(vehicle_shape$prop.wo.va)

#Project data

income_proj &lt;- income_shape %&gt;% 
  st_transform(4326) 

vehicle_proj &lt;- vehicle_shape %&gt;% 
  st_transform(4326) 

#Turn census tracts into centroids

st_cent &lt;- st_centroid(income_proj)

##Create Buffalo supermarkets variable##

#Create a 0.5-mile border around Buffalo
border_poly &lt;- buffalo_border %&gt;%
  st_cast(&quot;POLYGON&quot;)
buffer_buffalo &lt;- st_buffer(border_poly, dist = 804.672)

#Select all the supermarkets within the new border
buffalo_supermarkets &lt;- st_read(&quot;erie_county_supermarkets&quot;)%&gt;%
  st_crop(buffer_buffalo)</code></pre>
<pre><code>## Reading layer `erie_county_supermarkets&#39; from data source 
##   `/__w/final_project-Hughes-Eric/final_project-Hughes-Eric/erie_county_supermarkets&#39; 
##   using driver `ESRI Shapefile&#39;
## Simple feature collection with 79 features and 21 fields
## Geometry type: POINT
## Dimension:     XY
## Bounding box:  xmin: -79.04732 ymin: 42.46463 xmax: -78.49928 ymax: 43.03835
## Geodetic CRS:  WGS 84</code></pre>
<pre class="r"><code>#Create X and Y columns in buffalo_supermarkets and centroid data
coords = st_coordinates(buffalo_supermarkets)
xlon = coords[,1]
ylat = coords[,2]
bf_supermarkets &lt;- buffalo_supermarkets %&gt;%
  mutate(xlon,ylat) 

sf_coords &lt;- st_as_sf(st_cent) 
cen_coords &lt;- st_coordinates(sf_coords)
xlon = cen_coords[,1]
ylat = cen_coords[,2]

centroids &lt;- sf_coords %&gt;%
  mutate(xlon,ylat) %&gt;%
  st_transform(4326)
centroids$id &lt;- 1:max(nrow(centroids))

## Distance from centroid to nearest supermarket
# Define Buffalo coordinate variable
xy_coords &lt;- rbind (
  c (-78.79514, 42.96641), # Buffalo
  c (-78.91252, 42.82610)
) # Buffalo
xy &lt;- data.frame (lon = xy_coords [, 1], lat = xy_coords [, 2])

#Calculate distances from centroids to supermarkets

buffalo_network &lt;- dodgr_streetnet (pts = xy, expand = 0.2, quiet = FALSE)
graph &lt;- weight_streetnet (buffalo_network, wt_profile = &quot;motorcar&quot;)
graph &lt;- graph [which (graph$component == 1), ]
from_x &lt;- centroids$INTPTLON
from_y &lt;- centroids$INTPTLAT
to_x &lt;- bf_supermarkets$xlon
to_y &lt;- bf_supermarkets$ylat
d &lt;- dodgr_dists(graph = graph, from = cbind (from_x, from_y), to = cbind (to_x, to_y))
df &lt;- apply(d, 1, FUN=min, na.rm=TRUE) %&gt;% as.data.frame()
b &lt;- st_sf(data.frame(centroids, df))
names(b)[20] &lt;- &quot;dist&quot;

##Create income brackets##

# Switch distance variable back to dataframe
b_df &lt;- as_data_frame(b)

#Create brackets and join distance calculations
#Median income brackets
less_than_20k &lt;- income_proj %&gt;%
  filter(median.household.income &lt;= 20000) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

less_than_40k &lt;- income_proj %&gt;%
  filter(median.household.income &gt; 20000, median.household.income &lt;= 40000) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

less_than_60k &lt;- income_proj %&gt;%
  filter(median.household.income &gt; 40000, median.household.income &lt;= 60000) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

greater_than_or_equal_60k &lt;- income_proj %&gt;%
  filter(median.household.income &gt;= 60000) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

#Vehicle access brackets
less_than_0.2 &lt;- vehicle_proj %&gt;%
  filter(prop.wo.va &lt;= 0.2) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

less_than_0.4 &lt;- vehicle_proj %&gt;%
  filter(prop.wo.va &gt; 0.2, prop.wo.va &lt;= 0.4) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

less_than_0.6 &lt;- vehicle_proj %&gt;%
  filter(prop.wo.va &gt; 0.4, prop.wo.va &lt;= 0.6) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

greater_than_0.6 &lt;- vehicle_proj %&gt;%
  filter(prop.wo.va &gt; 0.6) %&gt;%
  left_join(b_df, by = c(&quot;GEOID&quot; = &quot;GEOID&quot;))

##Calculate average distance for each bracket in meters##

ave_dist_less_than_20k &lt;- mean(less_than_20k$dist) #1813.465
ave_dist_less_than_40k &lt;- mean(less_than_40k$dist) #1926.935
ave_dist_less_than_60k &lt;- mean(less_than_60k$dist) #1830.889
ave_dist_greater_than_60k &lt;- mean(greater_than_or_equal_60k$dist) #1648.723

ave_dist_less_than_0.2 &lt;- mean(less_than_0.2$dist) #1661.945
ave_dist_less_than_0.4 &lt;- mean(less_than_0.4$dist) #1844.538
ave_dist_less_than_0.6 &lt;- mean(less_than_0.6$dist) #1957.577
ave_dist_greater_than_0.6 &lt;- mean(greater_than_0.6$dist) #2438.269</code></pre>
</div>
</div>
<div id="results" class="section level1">
<h1>Results</h1>
<p>[~200 words]</p>
<p>Tables and figures (maps and other graphics) are carefully planned to
convey the results of your analysis. Intense exploration and evidence of
many trials and failures. The author looked at the data in many
different ways before coming to the final presentation of the data.</p>
<p>Show tables, plots, etc. and describe them.</p>
<pre class="r"><code>#Plot median income map with supermarkets

income_supermarket &lt;- ggmap(basemap) +
  geom_sf(data = income_proj, aes(x = INTPTLON, y = INTPTLAT,  fill = median.household.income), 
          inherit.aes = F)+
  scale_fill_gradient(low = &quot;yellow&quot;, high = &quot;red&quot;) +
  geom_point(data = bf_supermarkets, aes(x = xlon, y = ylat, color = &quot;Supermarket&quot;), size = 3) +
  scale_color_manual(values = &quot;green&quot;, name = &quot;Supermarkets&quot;) +
  labs(title=&quot;All supermarkets within 0.5-miles of Buffalo, NY (2020)&quot;,
       subtitle=&quot;Median income data&quot;,
       caption=&quot;Median household income data from US Census Bureau,
       supermarket data from Data Axle&quot;,
       x = &quot;Longitude&quot;,
       y = &quot;Latitude&quot;) +
  theme(legend.direction = &quot;vertical&quot;, axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1))+
  guides(fill=guide_legend(title=&quot;Median Household Income ($)&quot;))
income_supermarket  </code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<pre class="r"><code>#Plot vehicle access data map with supermarkets

vehicle_supermarket &lt;- ggmap(basemap) +
  geom_sf(data = vehicle_proj, aes(x = INTPTLON, y = INTPTLAT,  fill = prop.wo.va), 
          inherit.aes = F)+
  scale_fill_gradient(low = &quot;#f1eef6&quot;, high = &quot;#ce1256&quot;) +
  geom_point(data = bf_supermarkets, aes(x = xlon, y = ylat, color = &quot;Supermarket&quot;), size = 3) +
  scale_color_manual(values = &quot;green&quot;, name = &quot;Supermarkets&quot;) +
  labs(title=&quot;All supermarkets within 0.5-miles of Buffalo, NY (2020)&quot;,
       subtitle=&quot;Proportion of households without vehicle access&quot;,
       caption=&quot;Vehicle access data from US Census Bureau,
       supermarket data from Data Axle&quot;,
       x = &quot;Longitude&quot;,
       y = &quot;Latitude&quot;) +
  theme(legend.direction = &quot;vertical&quot;, axis.text.x = element_text(angle = 45, vjust = 0.9, hjust=1))+
  guides(fill=guide_legend(title=&quot;Proportion of households 
without access to a vehicle&quot;)) 
vehicle_supermarket</code></pre>
<p><img src="index_files/figure-html/unnamed-chunk-3-2.png" width="672" /></p>
<p>More to come!</p>
</div>
<div id="conclusions" class="section level1">
<h1>Conclusions</h1>
<p>[~200 words]</p>
<p>Coming soon!!</p>
<p>Clear summary adequately describing the results and putting them in
context. Discussion of further questions and ways to continue
investigation.</p>
</div>

<!-- give the footer some space -->
<br/>
<br/>

<footer id="site-footer">
  <div id="footer1">
  This website is a project for Adam Wilson's <a href="https://wilsonlab.io/GEO511"><i> Spatial Data Science (GEO511) </i></a>Course at the University at Buffalo
  </div>
  <div id="footer2">
  <a rel="license" property="http://creativecommons.org/ns#license"
  href="http://creativecommons.org/licenses/by/4.0/" ><img src="img/cc-by.svg" alt="cc-by"/></a> 
  </div>
</footer>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>


</body>
</html>
